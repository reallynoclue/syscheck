
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.5">
    
    
      
        <title>SSH Keys - Syscheck</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.21aed14c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#syscheck-logbook-tool" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Syscheck" class="md-header-nav__button md-logo" aria-label="Syscheck">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Syscheck
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              SSH Keys
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/henrik-andreasson/syscheck/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Syscheck
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Syscheck" class="md-nav__button md-logo" aria-label="Syscheck">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Syscheck
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/henrik-andreasson/syscheck/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Syscheck
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting-started/" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../install/" class="md-nav__link">
      Install
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../config-management/" class="md-nav__link">
      Config
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../output-format/" class="md-nav__link">
      Output Formats
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../syscheck-backup-management.md" class="md-nav__link">
      MariaDB Backup
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        SSH Keys
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      SSH Keys
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#changes" class="md-nav__link">
    Changes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-keys-installation" class="md-nav__link">
    SSH Keys Installation
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../integration-with-op5/" class="md-nav__link">
      OP5
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../output-destinations/" class="md-nav__link">
      Output destinations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../syscheck-scripts/" class="md-nav__link">
      All Syscheck scripts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../related-scripts/" class="md-nav__link">
      Related Scripts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../certificate_and_revovation_archival/" class="md-nav__link">
      Archiving
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../upgrade/" class="md-nav__link">
      upgrade
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getroot/" class="md-nav__link">
      getroot
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../help-getroot/" class="md-nav__link">
      getroot help
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../logbook/" class="md-nav__link">
      Logbook
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../help-logbook/" class="md-nav__link">
      Logbook Help
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../cmp_dates/" class="md-nav__link">
      Util cmpdates
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#changes" class="md-nav__link">
    Changes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-keys-installation" class="md-nav__link">
    SSH Keys Installation
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/henrik-andreasson/syscheck/edit/master/docs/ssh-keys-setup.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="syscheck-logbook-tool">Syscheck - LOGBOOK Tool<a class="headerlink" href="#syscheck-logbook-tool" title="Permanent link">&para;</a></h1>
<h2 id="changes">Changes<a class="headerlink" href="#changes" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Version</th>
<th>Author</th>
<th>Date</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.0</td>
<td>Henrik Andreasson</td>
<td>2016-11-27</td>
<td>Initial version</td>
</tr>
<tr>
<td>1.1</td>
<td>Henrik Andreasson</td>
<td>2020-07-31</td>
<td>mkdocs updates</td>
</tr>
</tbody>
</table>
<h2 id="ssh-keys-installation">SSH Keys Installation<a class="headerlink" href="#ssh-keys-installation" title="Permanent link">&para;</a></h2>
<p>This chapter assumes that your application user is called “jboss”. The purpose of the installation of ssh-keys is to automaticly be able to run commands on the other node in a cluster.</p>
<p>3.1  Generate keys on both nodes
on node1 run:</p>
<div class="codehilite"><pre><span></span><code><span class="err">username@smartcard20-node1:/usr/local&gt; sudo su  - jboss</span>
<span class="err">jobss@smartcard20-node1:~&gt; ssh-keygen</span>
<span class="err">Generating public/private rsa key pair.</span>
<span class="err">Enter file in which to save the key (/home/jboss/.ssh/id_rsa):</span>
<span class="err">Created directory &#39;/home/jboss/.ssh&#39;.</span>
<span class="err">Enter passphrase (empty for no passphrase): (press enter to use no passphrase)</span>
<span class="err">Enter same passphrase again:</span>
<span class="err">Your identification has been saved in /home/jboss/.ssh/id_rsa.</span>
<span class="err">Your public key has been saved in /home/jboss/.ssh/id_rsa.pub.</span>
</code></pre></div>

<p>And also on all the other nodes run:</p>
<div class="codehilite"><pre><span></span><code><span class="err">username@smartcard20-node2:/usr/local&gt; sudo su  - jboss</span>
<span class="err">jobss@smartcard20-node2:~&gt; ssh-keygen</span>
<span class="err">Generating public/private rsa key pair.</span>
<span class="err">Enter file in which to save the key (/home/jboss/.ssh/id_rsa):</span>
<span class="err">Created directory &#39;/home/jboss/.ssh&#39;.</span>
<span class="err">Enter passphrase (empty for no passphrase): (press enter to use no passphrase)</span>
<span class="err">Enter same passphrase again:</span>
<span class="err">Your identification has been saved in /home/jboss/.ssh/id_rsa.</span>
<span class="err">Your public key has been saved in /home/jboss/.ssh/id_rsa.pub.</span>
</code></pre></div>

<p>Add the own public key to the own authorized_keys to allow local ssh</p>
<div class="codehilite"><pre><span></span><code><span class="err">jboss@smartcard20-node1:~&gt; cp .ssh/id_rsa.pub  .ssh/authorized_keys</span>
<span class="err">jboss@smartcard20-node1:~&gt; ssh localhost</span>
<span class="err">The authenticity of host &#39;localhost (127.0.0.1)&#39; can&#39;t be established.</span>
<span class="err">RSA key fingerprint is 73:c8:8f:20:73:83:62:c7:5e:a0:7d:cb:38:c8:04:43.</span>
<span class="err">Are you sure you want to continue connecting (yes/no)? yes</span>
<span class="c">Warning: Permanently added &#39;localhost&#39; (RSA) to the list of known hosts.</span>
<span class="err">jboss@smartcard20-node1:~&gt; logout</span>
<span class="err">on node2 run:</span>
<span class="err">jboss@smartcard20-node2:~&gt; cp .ssh/id_rsa.pub  .ssh/authorized_keys</span>
<span class="err">jboss@smartcard20-node2:~&gt; ssh localhost</span>
<span class="err">The authenticity of host &#39;localhost (127.0.0.1)&#39; can&#39;t be established.</span>
<span class="err">RSA key fingerprint is 73:c8:8f:20:73:83:62:c7:5e:a0:7d:cb:38:c8:04:43.</span>
<span class="err">Are you sure you want to continue connecting (yes/no)? yes</span>
<span class="c">Warning: Permanently added &#39;localhost&#39; (RSA) to the list of known hosts.</span>
<span class="err">jboss@smartcard20-node2:~&gt; logout</span>
</code></pre></div>

<p>Add node1 public key to node2 authorized_keys to allow ssh from node1 to node2</p>
<p>on node1 run:</p>
<div class="codehilite"><pre><span></span><code><span class="err">jboss@smartcard20-node1:~&gt; cat .ssh/id_rsa.pub</span>
<span class="err">ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAqAxIMkP3or7xGr/PTSpomW+zUh9Id5yL6GKhaoctgI1wJtM7wbiQhq4V6VXmL2onHIKDAJTJ+A10qzy8+iolCmAjnHbVw+Xy3YhPbQuT21dvntTuXtv+4xMgeAagbAg6hRI+3qcidmLkQGsSvJncJkJ/vftcw0e0rbRToDEiS3jbK6VFBo+k3mccBlPG3KqlvM6YoHajoAkxU11IIWY+sesnsfOPMjwt7bfXqT32XBNzIpAwBIJVQ0cBIs+Sz551hR5ERvWW9Qp8nl4hcEwVSrsiflyGJKxI7AnMxzaIJdfoBsZTj/jUtDpK/PnGuJzNMkwQlSmdCND+N2QW7n9WxQ== jboss@smartcard20-node1</span>
</code></pre></div>

<p>on node2 run:</p>
<div class="codehilite"><pre><span></span><code><span class="err">jboss@smartcard20-node2:~&gt; vi .ssh/authorized_keys</span>
<span class="err">ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAqAxIMkP3or7xGr/PTSpomW+zUh9Id5yL6GKhaoctgI1wJtM7wbiQhq4V6VXmL2onHIKDAJTJ+A10qzy8+iolCmAjnHbVw+Xy3YhPbQuT21dvntTuXtv+4xMgeAagbAg6hRI+3qcidmLkQGsSvJncJkJ/vftcw0e0rbRToDEiS3jbK6VFBo+k3mccBlPG3KqlvM6YoHajoAkxU11IIWY+sesnsfOPMjwt7bfXqT32XBNzIpAwBIJVQ0cBIs+Sz551hR5ERvWW9Qp8nl4hcEwVSrsiflyGJKxI7AnMxzaIJdfoBsZTj/jUtDpK/PnGuJzNMkwQlSmdCND+N2QW7n9WxQ== jboss@smartcard20-node2</span>
</code></pre></div>

<p>To add a new line below the only line in authorized_keys press “o”
then paste the key from node1
press escape to exit edit mode
make sure that the new key is on one line only, press “J” to join to lines if the line broke in copy-and-paste, delete space with “x”
press :wq to exit</p>
<p>Change the window size so any line-wraps problem reveals it self. Make sure each key is on one line
on node2 run:</p>
<div class="codehilite"><pre><span></span><code><span class="err">jboss@smartcard20-node2:~&gt; cat  .ssh/authorized_keys</span>
<span class="err">ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAqAxIMkP3or7xGr/PTSpomW+zUh9Id5yL6GKhaoctgI1wJtM7wbiQhq4V6VXmL2onHIKDAJTJ+A10qzy8+iolCmAjnHbVw+Xy3YhPbQuT21dvntTuXtv+4xMgeAagbAg6hRI+3qcidmLkQGsSvJncJkJ/vftcw0e0rbRToDEiS3jbK6VFBo+k3mccBlPG3KqlvM6YoHajoAkxU11IIWY+sesnsfOPMjwt7bfXqT32XBNzIpAwBIJVQ0cBIs+Sz551hR5ERvWW9Qp8nl4hcEwVSrsiflyGJKxI7AnMxzaIJdfoBsZTj/jUtDpK/PnGuJzNMkwQlSmdCND+N2QW7n9WxQ== jboss@smartcard20-node2</span>
<span class="err">ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEArzafoK1mzu0WYr1c0I8efdkOE5+58ccM83fJ32EuUxKfrvEi3GsJKyZPvuSZr4VXUgRvyyWzg8JtwJR7s+8NSqcHhdeN+zeVQx9/YCw8xOQLx9SOORato76WfwhjM7kUrZd/bIQQGRDwh1rvCVRlNr7kFFRsEe+afxP42AZkZaD6bCBsG4BF/iR5+YCERzuUymrN5g8qWU5Hw1Hegedz+7oCJZ8FO3UVB6SREDA1n4c651gWa+xtx+5KgWLcfQU8V019fzuVz45c1mF0r0zQF4Z66gq/HEkYUjttk7hgCrRaeIR1GTu+9HNF2+aSV44ZqKtd5L1cX1xsxJCJijjnSw== han@smartcard20-node1</span>
<span class="err">jboss@smartcard20-node2:~&gt; wc -l  .ssh/authorized_keys</span>
<span class="err">2 .ssh/authorized_keys</span>
</code></pre></div>

<p>verify ssh access to the other node:</p>
<div class="codehilite"><pre><span></span><code><span class="err">jboss@smartcard20-node1:~&gt; ssh jboss@smartcard20-node2</span>
<span class="err">Last login: Sat Jun  5 08:41:53 2010 from localhost</span>
<span class="err">jboss@smartcard20-node2:~&gt;</span>
</code></pre></div>

<p>Add node2 public key to node1 authorized_keys to allow ssh from node2 to node1</p>
<p>on node2 run:</p>
<div class="codehilite"><pre><span></span><code><span class="err">jboss@smartcard20-node2:~&gt; cat .ssh/id_rsa.pub</span>
<span class="err">ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAqAxIMkP3or7xGr/PTSpomW+zUh9Id5yL6GKhaoctgI1wJtM7wbiQhq4V6VXmL2onHIKDAJTJ+A10qzy8+iolCmAjnHbVw+Xy3YhPbQuT21dvntTuXtv+4xMgeAagbAg6hRI+3qcidmLkQGsSvJncJkJ/vftcw0e0rbRToDEiS3jbK6VFBo+k3mccBlPG3KqlvM6YoHajoAkxU11IIWY+sesnsfOPMjwt7bfXqT32XBNzIpAwBIJVQ0cBIs+Sz551hR5ERvWW9Qp8nl4hcEwVSrsiflyGJKxI7AnMxzaIJdfoBsZTj/jUtDpK/PnGuJzNMkwQlSmdCND+N2QW7n9WxQ== jboss@smartcard20-node2</span>
</code></pre></div>

<p>on node1 run:</p>
<div class="codehilite"><pre><span></span><code><span class="err">jboss@smartcard20-node1:~&gt; vi .ssh/authorized_keys</span>
<span class="err">ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAqAxIMkP3or7xGr/PTSpomW+zUh9Id5yL6GKhaoctgI1wJtM7wbiQhq4V6VXmL2onHIKDAJTJ+A10qzy8+iolCmAjnHbVw+Xy3YhPbQuT21dvntTuXtv+4xMgeAagbAg6hRI+3qcidmLkQGsSvJncJkJ/vftcw0e0rbRToDEiS3jbK6VFBo+k3mccBlPG3KqlvM6YoHajoAkxU11IIWY+sesnsfOPMjwt7bfXqT32XBNzIpAwBIJVQ0cBIs+Sz551hR5ERvWW9Qp8nl4hcEwVSrsiflyGJKxI7AnMxzaIJdfoBsZTj/jUtDpK/PnGuJzNMkwQlSmdCND+N2QW7n9WxQ== jboss@smartcard20-node1</span>
</code></pre></div>

<p>To add a new line below the only line in authorized_keys press “o”
then paste the key from node2
press escape to exit edit mode
make sure that the new key is on one line only, press “J” to join to lines if the line broke in copy-and-paste, delete space with “x”
press :wq to exit</p>
<p>Change the window size so any line-wraps problem reveals it self. Make sure each key is on one line
on node2 run:</p>
<div class="codehilite"><pre><span></span><code><span class="err">jboss@smartcard20-node1:~&gt; cat  .ssh/authorized_keys</span>
<span class="err">ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAqAxIMkP3or7xGr/PTSpomW+zUh9Id5yL6GKhaoctgI1wJtM7wbiQhq4V6VXmL2onHIKDAJTJ+A10qzy8+iolCmAjnHbVw+Xy3YhPbQuT21dvntTuXtv+4xMgeAagbAg6hRI+3qcidmLkQGsSvJncJkJ/vftcw0e0rbRToDEiS3jbK6VFBo+k3mccBlPG3KqlvM6YoHajoAkxU11IIWY+sesnsfOPMjwt7bfXqT32XBNzIpAwBIJVQ0cBIs+Sz551hR5ERvWW9Qp8nl4hcEwVSrsiflyGJKxI7AnMxzaIJdfoBsZTj/jUtDpK/PnGuJzNMkwQlSmdCND+N2QW7n9WxQ== jboss@smartcard20-node1</span>
<span class="err">ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEArzafoK1mzu0WYr1c0I8efdkOE5+58ccM83fJ32EuUxKfrvEi3GsJKyZPvuSZr4VXUgRvyyWzg8JtwJR7s+8NSqcHhdeN+zeVQx9/YCw8xOQLx9SOORato76WfwhjM7kUrZd/bIQQGRDwh1rvCVRlNr7kFFRsEe+afxP42AZkZaD6bCBsG4BF/iR5+YCERzuUymrN5g8qWU5Hw1Hegedz+7oCJZ8FO3UVB6SREDA1n4c651gWa+xtx+5KgWLcfQU8V019fzuVz45c1mF0r0zQF4Z66gq/HEkYUjttk7hgCrRaeIR1GTu+9HNF2+aSV44ZqKtd5L1cX1xsxJCJijjnSw== han@smartcard20-node2</span>
<span class="err">jboss@smartcard20-node2:~&gt; wc -l  .ssh/authorized_keys</span>
<span class="err">2 .ssh/authorized_keys</span>
</code></pre></div>

<p>verify ssh access to the other node:</p>
<div class="codehilite"><pre><span></span><code><span class="err">jboss@smartcard20-node2:~&gt; ssh smartcard20-node1</span>
<span class="err">Last login: Sat Jun  5 08:41:53 2010 from localhost</span>
<span class="err">jboss@smartcard20-node1:~&gt;</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../output-format/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Output Formats
              </div>
            </div>
          </a>
        
        
          <a href="../integration-with-op5/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                OP5
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy 2020 Henrik Andreasson
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="../assets/javascripts/bundle.b3a72adc.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>