
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.5">
    
    
      
        <title>Related Scripts - Syscheck</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.21aed14c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#syscheck-version-20" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Syscheck" class="md-header-nav__button md-logo" aria-label="Syscheck">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Syscheck
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Related Scripts
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/henrik-andreasson/syscheck/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Syscheck
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Syscheck" class="md-nav__button md-logo" aria-label="Syscheck">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Syscheck
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/henrik-andreasson/syscheck/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Syscheck
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting-started/" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../install/" class="md-nav__link">
      Install
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../config-management/" class="md-nav__link">
      Config
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../output-format/" class="md-nav__link">
      Output Formats
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../syscheck-backup-management.md" class="md-nav__link">
      MariaDB Backup
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../ssh-keys-setup/" class="md-nav__link">
      SSH Keys
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../integration-with-op5/" class="md-nav__link">
      OP5
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../output-destinations/" class="md-nav__link">
      Output destinations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../syscheck-scripts/" class="md-nav__link">
      All Syscheck scripts
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Related Scripts
    </a>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../certificate_and_revovation_archival/" class="md-nav__link">
      Archiving
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../upgrade/" class="md-nav__link">
      upgrade
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getroot/" class="md-nav__link">
      getroot
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../help-getroot/" class="md-nav__link">
      getroot help
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../logbook/" class="md-nav__link">
      Logbook
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../help-logbook/" class="md-nav__link">
      Logbook Help
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../cmp_dates/" class="md-nav__link">
      Util cmpdates
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/henrik-andreasson/syscheck/edit/master/docs/related-scripts.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="syscheck-version-20">Syscheck version 2.0<a class="headerlink" href="#syscheck-version-20" title="Permanent link">&para;</a></h1>
<p>Documentation generated: Mon 10 Aug 00:13:14 CEST 2020</p>
<h1 id="syscheck-related-scripts">Syscheck related scripts<a class="headerlink" href="#syscheck-related-scripts" title="Permanent link">&para;</a></h1>
<h2 id="900_export_certsh">900_export_cert.sh<a class="headerlink" href="#900_export_certsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">900</span> <span class="o">-</span> <span class="n">Export</span> <span class="n">certificate</span> <span class="n">file</span>

<span class="n">Export</span> <span class="n">certificate</span> <span class="n">and</span> <span class="n">archive</span> <span class="n">them</span><span class="o">,</span> <span class="o">./</span><span class="mi">900</span><span class="n">_export_cert</span><span class="o">.</span><span class="na">sh</span> <span class="o">&lt;</span><span class="n">certfile</span><span class="o">&gt;</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9001</span> <span class="o">/</span> <span class="n">Export</span> <span class="n">certificate</span> <span class="n">run</span> <span class="n">successfully</span> <span class="o">-</span> <span class="n">no</span> <span class="n">actions</span> <span class="n">needed</span>
<span class="mi">9002</span> <span class="o">/</span> <span class="n">Export</span> <span class="n">certificate</span> <span class="n">failed</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span>  <span class="o">-</span> <span class="n">Unexpected</span><span class="o">,</span> <span class="n">run</span> <span class="n">the</span> <span class="n">script</span> <span class="k">with</span> <span class="n">sh</span> <span class="o">-</span><span class="n">x</span> <span class="n">to</span> <span class="n">check</span>
<span class="mi">9003</span> <span class="o">/</span> <span class="n">Export</span> <span class="n">certificate</span> <span class="n">failed</span><span class="o">,</span> <span class="n">script</span> <span class="n">called</span> <span class="n">without</span> <span class="n">file</span> <span class="o">-</span> <span class="n">call</span> <span class="k">this</span> <span class="n">script</span> <span class="k">with</span> <span class="n">a</span> <span class="n">PEM</span> <span class="n">encoded</span> <span class="n">certficate</span> <span class="k">as</span> <span class="n">arg1</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="901_export_revocationsh">901_export_revocation.sh<a class="headerlink" href="#901_export_revocationsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">901</span> <span class="o">-</span> <span class="n">Export</span> <span class="n">CRL</span> <span class="n">file</span>

<span class="n">Export</span> <span class="n">CRL</span><span class="o">:</span><span class="n">s</span> <span class="k">with</span> <span class="n">a</span> <span class="n">script</span> <span class="o">./</span><span class="mi">901</span><span class="n">_export_revocation</span><span class="o">.</span><span class="na">sh</span> <span class="o">&lt;</span><span class="n">DER</span><span class="o">-</span><span class="n">encoded</span> <span class="n">CERT</span><span class="o">&gt;</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9011</span> <span class="o">/</span> <span class="n">Export</span> <span class="n">revocation</span> <span class="n">run</span> <span class="n">successfully</span> <span class="o">-</span> <span class="n">no</span> <span class="n">actions</span> <span class="n">needed</span>
<span class="mi">9012</span> <span class="sr">/ Export revocation failed (%s)  - check manually with sh -x ./</span><span class="mi">901</span><span class="n">_export_revocation</span><span class="o">.</span><span class="na">sh</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span>
<span class="mi">9013</span> <span class="o">/</span> <span class="n">Export</span> <span class="n">revocation</span> <span class="n">failed</span><span class="o">,</span> <span class="n">script</span> <span class="n">called</span> <span class="n">without</span> <span class="n">file</span> <span class="o">-</span> <span class="n">call</span> <span class="k">this</span> <span class="n">script</span> <span class="k">with</span> <span class="n">a</span> <span class="n">DER</span> <span class="n">encoded</span> <span class="n">CERT</span> <span class="k">as</span> <span class="n">arg1</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="902_export_crlsh">902_export_crl.sh<a class="headerlink" href="#902_export_crlsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">902</span> <span class="o">-</span> <span class="n">Export</span> <span class="n">revoked</span> <span class="n">certificate</span> <span class="n">file</span>

<span class="n">Export</span> <span class="n">CRL</span> <span class="o">./</span><span class="mi">902</span><span class="n">_export_crl</span><span class="o">.</span><span class="na">sh</span><span class="o">:</span> <span class="o">&lt;</span><span class="n">DER</span> <span class="n">encoded</span> <span class="n">CRL</span><span class="o">&gt;</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9021</span> <span class="o">/</span> <span class="n">Export</span> <span class="n">CRL</span> <span class="n">run</span> <span class="n">successfully</span> <span class="o">-</span> <span class="n">no</span> <span class="n">action</span> <span class="n">needed</span>
<span class="mi">9022</span> <span class="sr">/ Export CRL failed (%s)  - check manual with sh -x ./</span><span class="mi">902</span><span class="n">_export_crl</span><span class="o">.</span><span class="na">sh</span> <span class="o">&lt;</span><span class="n">crl</span><span class="o">&gt;</span>
<span class="mi">9023</span> <span class="o">/</span> <span class="n">Export</span> <span class="n">CRL</span> <span class="n">failed</span><span class="o">,</span> <span class="n">script</span> <span class="n">called</span> <span class="n">without</span> <span class="n">file</span> <span class="o">-</span> <span class="n">arg1</span> <span class="n">must</span> <span class="n">be</span> <span class="n">a</span> <span class="n">DER</span> <span class="n">encoded</span> <span class="n">crl</span><span class="o">!</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="903_make_hsm_backupsh">903_make_hsm_backup.sh<a class="headerlink" href="#903_make_hsm_backupsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">903</span> <span class="o">-</span> <span class="n">Nfast</span> <span class="n">backup</span>

<span class="n">Backup</span> <span class="n">a</span> <span class="n">HSM</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9031</span> <span class="o">/</span> <span class="n">Backup</span> <span class="n">of</span> <span class="n">Nfast</span> <span class="n">HSM</span> <span class="n">run</span> <span class="n">successfully</span> <span class="o">-</span> <span class="n">no</span> <span class="n">action</span> <span class="n">needed</span>
<span class="mi">9032</span> <span class="o">/</span> <span class="n">Backup</span> <span class="n">of</span> <span class="n">Nfast</span> <span class="n">HSM</span> <span class="n">failed</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span>  <span class="o">-</span> <span class="n">TODO</span>
<span class="mi">9033</span> <span class="o">/</span>  <span class="o">-</span> 

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="904_make_mysql_db_backupsh">904_make_mysql_db_backup.sh<a class="headerlink" href="#904_make_mysql_db_backupsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">904</span> <span class="o">-</span> <span class="n">Mysql</span> <span class="n">backup</span> <span class="n">tool</span>

<span class="n">syntax</span><span class="o">:</span> <span class="o">./</span><span class="mi">904</span><span class="n">_make_mysql_db_backup</span><span class="o">.</span><span class="na">sh</span> <span class="o">[-</span><span class="n">x</span><span class="o">|--</span><span class="k">default</span><span class="o">|-</span><span class="n">d</span><span class="o">|--</span><span class="n">daily</span><span class="o">|-</span><span class="n">w</span><span class="o">|--</span><span class="n">weekly</span><span class="o">|-</span><span class="n">m</span><span class="o">|--</span><span class="n">monthly</span><span class="o">|-</span><span class="n">y</span><span class="o">|--</span><span class="n">yearly</span><span class="o">]</span> <span class="o">[-</span><span class="n">s</span><span class="o">|--</span><span class="n">screen</span><span class="o">]</span> <span class="o">[-</span><span class="n">b</span><span class="o">|--</span><span class="n">batch</span><span class="o">]</span> 

 <span class="o">-</span><span class="n">x</span> <span class="n">and</span> <span class="o">--</span><span class="k">default</span> <span class="n">will</span> <span class="n">put</span> <span class="n">the</span> <span class="n">backupfile</span> <span class="k">in</span> <span class="n">directory</span> <span class="n">defined</span> <span class="k">in</span> <span class="n">config</span> <span class="k">as</span> <span class="n">SUBDIR_DEFAULT</span>
 <span class="o">-</span><span class="n">d</span> <span class="n">or</span> <span class="o">--</span><span class="n">daily</span> <span class="n">will</span> <span class="n">put</span> <span class="n">the</span> <span class="n">backup</span> <span class="k">in</span> <span class="n">the</span> <span class="n">directory</span> <span class="n">defined</span> <span class="k">in</span> <span class="n">config</span> <span class="k">as</span> <span class="n">SUBDIR_DAILY</span>
 <span class="o">-</span><span class="n">w</span> <span class="n">or</span> <span class="o">--</span><span class="n">weekly</span> <span class="n">will</span> <span class="n">put</span> <span class="n">the</span> <span class="n">backup</span> <span class="k">in</span> <span class="n">the</span> <span class="n">directory</span> <span class="n">defined</span> <span class="k">in</span> <span class="n">config</span> <span class="k">as</span> <span class="n">SUBDIR_WEEKLY</span>
 <span class="o">-</span><span class="n">m</span> <span class="n">or</span> <span class="o">--</span><span class="n">monthly</span> <span class="n">will</span> <span class="n">put</span> <span class="n">the</span> <span class="n">backup</span> <span class="k">in</span> <span class="n">the</span> <span class="n">directory</span> <span class="n">defined</span> <span class="k">in</span> <span class="n">config</span> <span class="k">as</span> <span class="n">SUBDIR_MONTHLY</span>
 <span class="o">-</span><span class="n">y</span> <span class="n">or</span> <span class="o">--</span><span class="n">yearly</span> <span class="n">will</span> <span class="n">put</span> <span class="n">the</span> <span class="n">backup</span> <span class="k">in</span> <span class="n">the</span> <span class="n">directory</span> <span class="n">defined</span> <span class="k">in</span> <span class="n">config</span> <span class="k">as</span> <span class="n">SUBDIR_YEARLY</span>
 <span class="n">OBSERVE</span> <span class="n">that</span> <span class="n">it</span><span class="s1">&#39;s up to the admin to run this script with cron or alike at these intervals, so run this script once a day with --daily to get only one daily backup and so on</span>
<span class="s1"> -b or --batch will echo the resulting filename for processing by other scripts</span>

<span class="s1">Error code / description - What to do</span>

<span class="s1">9041 / Backed up db ok file: %s time to complete(sec): %s filesize(bytes): %s - no action needed</span>
<span class="s1">9042 / Could not create the backup file: %s time to complete(sec): %s filesize(bytes): %s errormess: %s - Run manually also check disk space and owner of directory to write backup to</span>
<span class="s1">9043 / Backup failed, backupdir not found (%s) - check the configfile and make sure the configured directory exist</span>

<span class="s1">to run with output directed to screen: add a &#39;</span><span class="o">-</span><span class="n">s</span><span class="s1">&#39; or &#39;</span><span class="o">--</span><span class="n">screen</span><span class="err">&#39;</span>
</code></pre></div>

<h2 id="905_publish_crlsh">905_publish_crl.sh<a class="headerlink" href="#905_publish_crlsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">905</span> <span class="o">-</span> <span class="n">CRL</span> <span class="n">publish</span>

<span class="n">Script</span> <span class="n">to</span> <span class="n">publish</span> <span class="n">the</span> <span class="n">CRL</span><span class="o">:</span><span class="n">s</span> <span class="n">from</span> <span class="n">the</span> <span class="n">CA</span><span class="o">,</span> <span class="n">supports</span> <span class="n">local</span> <span class="n">and</span> <span class="n">remote</span> <span class="n">publishing</span> <span class="n">by</span> <span class="n">SSH</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9051</span> <span class="o">/</span> <span class="n">Publish</span> <span class="n">CRL</span> <span class="n">run</span> <span class="n">successfully</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">%</span><span class="n">s</span> <span class="o">-</span> <span class="n">No</span> <span class="n">action</span> <span class="n">needed</span>
<span class="mi">9052</span> <span class="o">/</span> <span class="n">Publish</span> <span class="n">to</span> <span class="n">remote</span> <span class="n">host</span> <span class="n">failed</span> <span class="n">crl</span><span class="o">:(%</span><span class="n">s</span><span class="o">)</span> <span class="n">host</span><span class="o">:(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">Try</span> <span class="n">manually</span> <span class="n">to</span> <span class="n">run</span> <span class="k">this</span> <span class="n">command</span> <span class="n">and</span> <span class="n">setup</span> <span class="n">ssh</span><span class="o">-</span><span class="n">keys</span> <span class="n">and</span> <span class="n">check</span> <span class="n">username</span>
<span class="mi">9053</span> <span class="sr">/ Publish CRL failed, can&#39;t copy crl to destination %s/</span><span class="o">%</span><span class="n">s</span> <span class="o">-</span> <span class="n">Check</span> <span class="n">permissions</span> <span class="k">for</span> <span class="n">the</span> <span class="n">path</span><span class="o">:</span><span class="n">s</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="906_ssh-copy-to-remote-machinesh">906_ssh-copy-to-remote-machine.sh<a class="headerlink" href="#906_ssh-copy-to-remote-machinesh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">906</span> <span class="o">-</span> <span class="n">SCP</span> <span class="n">support</span> <span class="n">tool</span>

<span class="n">Script</span> <span class="n">used</span> <span class="n">to</span> <span class="n">copy</span> <span class="n">files</span> <span class="n">to</span> <span class="n">other</span> <span class="n">hosts</span><span class="sr">/directorys usage: ./</span><span class="mi">906</span><span class="n">_ssh</span><span class="o">-</span><span class="n">copy</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">remote</span><span class="o">-</span><span class="n">machine</span><span class="o">.</span><span class="na">sh</span><span class="o">:</span> <span class="n">file</span> <span class="n">host</span> <span class="o">&lt;</span><span class="n">directory</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">to</span><span class="o">-</span><span class="n">username</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">from</span><span class="o">-</span><span class="n">ssh</span><span class="o">-</span><span class="n">key</span><span class="o">&gt;</span> 
<span class="o">(</span><span class="k">if</span> <span class="n">you</span> <span class="n">dont</span> <span class="n">specify</span> <span class="n">directory</span> <span class="n">the</span> <span class="n">file</span> <span class="n">will</span> <span class="n">end</span> <span class="n">up</span> <span class="k">in</span> <span class="n">the</span> <span class="n">user</span><span class="s1">&#39;s homedirectory, </span>
<span class="s1">if you dont specify to-username the same user as the one executing this script will be used, </span>
<span class="s1">if from-ssh-key is not specified default key will be used)</span>

<span class="s1">Error code / description - What to do</span>

<span class="s1">9061 / file transfered ok - ok</span>
<span class="s1">9062 / specify a filename as first argument to this script - filename not specified as argument</span>
<span class="s1">9063 / specify a hostname as second argument to this script - Hostname not specified as argument</span>
<span class="s1">9064 / scp failed: %s - check the error message and try to fix it</span>
<span class="s1">9065 / Diskspace at host: %s and dir: %s has to little space left %s , its lower than %s of the file: %s - Disk space on remote host to low</span>
<span class="s1">9066 / Remote filesize at host: %s and dir: %s has different size: %s than the original: %s of the file: %s - Remote filesize after transfer differs</span>
<span class="s1">9067 / Remote file already exist at host: %s remote file: %s for the local file: %s - Remote file already exist</span>

<span class="s1">to run with output directed to screen: add a &#39;</span><span class="o">-</span><span class="n">s</span><span class="s1">&#39; or &#39;</span><span class="o">--</span><span class="n">screen</span><span class="err">&#39;</span>
</code></pre></div>

<h2 id="907_make_mysql_db_backup_and_transfer_to_remote_mashinesh">907_make_mysql_db_backup_and_transfer_to_remote_mashine.sh<a class="headerlink" href="#907_make_mysql_db_backup_and_transfer_to_remote_mashinesh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">907</span> <span class="o">-</span> <span class="n">Mariadb</span> <span class="n">backup</span> <span class="n">and</span> <span class="n">transfer</span> <span class="n">to</span> <span class="n">remote</span> <span class="n">host</span>

<span class="n">Script</span> <span class="n">used</span> <span class="n">to</span> <span class="n">take</span> <span class="n">backup</span> <span class="n">of</span> <span class="n">the</span> <span class="n">sql</span> <span class="n">database</span><span class="o">,</span> <span class="n">compress</span> <span class="n">and</span> <span class="n">send</span> <span class="n">to</span> <span class="n">a</span> <span class="n">separate</span> <span class="n">server</span><span class="o">.</span> <span class="n">call</span> <span class="k">with</span> <span class="o">-</span><span class="n">x</span><span class="o">|--</span><span class="k">default</span> <span class="k">for</span> <span class="n">puting</span> <span class="n">the</span> <span class="n">backupfile</span> <span class="k">in</span> <span class="n">the</span> <span class="n">SUBDIR_DEFAULT</span> <span class="o">;</span> <span class="o">-</span><span class="n">d</span><span class="o">|--</span><span class="n">daily</span> <span class="n">to</span> <span class="n">make</span> <span class="n">daily</span> <span class="n">backup</span> <span class="n">end</span> <span class="n">up</span> <span class="k">in</span> <span class="n">SUBDIR_DAILY</span><span class="o">;</span> <span class="k">with</span> <span class="o">-</span><span class="n">w</span><span class="o">|--</span><span class="n">weekly</span> <span class="n">to</span> <span class="n">make</span> <span class="n">daily</span> <span class="n">backup</span> <span class="n">end</span> <span class="n">up</span> <span class="k">in</span> <span class="n">SUBDIR_WEEKLY</span><span class="o">;</span> <span class="o">-</span><span class="n">m</span><span class="o">|--</span><span class="n">monthly</span> <span class="n">to</span> <span class="n">make</span> <span class="n">daily</span> <span class="n">backup</span> <span class="n">end</span> <span class="n">up</span> <span class="k">in</span> <span class="n">SUBDIR_MONTHLY</span> <span class="o">;</span> <span class="o">-</span><span class="n">y</span><span class="o">|--</span><span class="n">yearly</span> <span class="n">to</span> <span class="n">make</span> <span class="n">daily</span> <span class="n">backup</span> <span class="n">end</span> <span class="n">up</span> <span class="k">in</span> <span class="n">SUBDIR_YEARLY</span><span class="o">;</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9071</span> <span class="o">/</span> <span class="n">Backup</span> <span class="n">and</span> <span class="n">transfer</span> <span class="n">was</span> <span class="n">ok</span><span class="o">.</span> <span class="o">-</span> <span class="n">Ok</span>
<span class="mi">9072</span> <span class="o">/</span> <span class="n">Could</span> <span class="n">not</span> <span class="kd">get</span> <span class="n">the</span> <span class="n">backup</span> <span class="n">from</span> <span class="n">MySQL</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span>  <span class="o">-</span> <span class="n">Could</span> <span class="n">not</span> <span class="n">make</span> <span class="n">a</span> <span class="n">backup</span><span class="o">.</span>
<span class="mi">9073</span> <span class="o">/</span> <span class="n">Could</span> <span class="n">not</span> <span class="n">send</span> <span class="n">the</span> <span class="n">backup</span><span class="o">,</span> <span class="n">maybe</span> <span class="n">connection</span> <span class="n">problem</span> <span class="n">or</span> <span class="n">problem</span> <span class="n">logging</span> <span class="k">in</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span>  <span class="o">-</span> <span class="n">Could</span> <span class="n">not</span> <span class="n">send</span> <span class="n">the</span> <span class="n">backup</span><span class="o">.</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="908_clean_old_backupssh">908_clean_old_backups.sh<a class="headerlink" href="#908_clean_old_backupssh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">908</span> <span class="o">-</span> <span class="n">Clean</span> <span class="n">old</span> <span class="n">backup</span> <span class="n">files</span>

<span class="n">Clean</span> <span class="n">old</span> <span class="n">backups</span><span class="o">,</span> <span class="n">so</span> <span class="n">the</span> <span class="n">disk</span> <span class="n">dont</span> <span class="n">fill</span> <span class="n">up</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9081</span> <span class="o">/</span> <span class="n">Clean</span> <span class="n">backupfiles</span> <span class="n">run</span> <span class="n">successfully</span> <span class="o">-</span> <span class="n">All</span> <span class="k">is</span> <span class="n">ok</span>
<span class="mi">9082</span> <span class="o">/</span> <span class="n">Clean</span> <span class="n">backupfiles</span> <span class="n">failed</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span>  <span class="o">-</span> <span class="n">Unpredicted</span> <span class="n">error</span> <span class="k">while</span> <span class="n">deleting</span> <span class="n">file</span> <span class="o">%</span><span class="n">s</span>
<span class="mi">9083</span> <span class="o">/</span> <span class="n">Clean</span> <span class="n">backupfile</span> <span class="n">file</span> <span class="n">did</span> <span class="n">not</span> <span class="n">exist</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span>  <span class="o">-</span> <span class="n">Maybe</span> <span class="n">the</span> <span class="n">files</span> <span class="n">has</span> <span class="n">been</span> <span class="n">already</span> <span class="n">removed</span> <span class="n">or</span> <span class="n">there</span> <span class="n">was</span> <span class="n">no</span> <span class="n">files</span> <span class="n">from</span> <span class="n">start</span>
<span class="mi">9084</span> <span class="sr">/ Datestring command did NOT return a valid string - try to run source lib/</span><span class="n">libsyscheck</span><span class="o">.</span><span class="na">sh</span> <span class="o">;</span> <span class="n">x</span><span class="o">-</span><span class="n">days</span><span class="o">-</span><span class="n">ago</span><span class="o">-</span><span class="n">datestr</span> <span class="mi">3</span> 

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="909_activate_cassh">909_activate_CAs.sh<a class="headerlink" href="#909_activate_cassh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">909</span> <span class="o">-</span> <span class="n">Activate</span> <span class="n">CA</span> <span class="n">HSM</span>

<span class="n">Activate</span> <span class="n">the</span> <span class="n">CA</span><span class="o">:</span><span class="n">s</span> <span class="o">(</span><span class="n">automaticlly</span> <span class="n">enter</span> <span class="n">PIN</span> <span class="n">codes</span><span class="o">)</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9091</span> <span class="o">/</span> <span class="n">Activate</span> <span class="n">CA</span><span class="o">:</span><span class="n">s</span> <span class="n">run</span> <span class="n">successfully</span> <span class="o">-</span> <span class="n">All</span> <span class="k">is</span> <span class="n">ok</span>
<span class="mi">9092</span> <span class="sr">/ Activate CA failed (%s/</span><span class="o">%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">Could</span> <span class="n">be</span> <span class="n">problems</span> <span class="n">accessing</span> <span class="n">the</span> <span class="n">application</span> <span class="n">server</span><span class="o">,</span> <span class="n">or</span> <span class="n">token</span> <span class="k">is</span> <span class="n">not</span> <span class="n">available</span>  <span class="o">%</span><span class="n">s</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="910_deactivate_cassh">910_deactivate_CAs.sh<a class="headerlink" href="#910_deactivate_cassh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">910</span> <span class="o">-</span> <span class="n">Deactivate</span> <span class="n">CA</span> <span class="n">HSM</span>

<span class="n">Deactivate</span> <span class="n">the</span> <span class="n">CA</span><span class="o">:</span><span class="n">s</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9101</span> <span class="o">/</span> <span class="n">Deactivate</span> <span class="n">CA</span><span class="o">:</span><span class="n">s</span> <span class="n">run</span> <span class="n">successfully</span> <span class="o">-</span> <span class="n">All</span> <span class="k">is</span> <span class="n">ok</span>
<span class="mi">9102</span> <span class="o">/</span> <span class="n">Deactivate</span> <span class="n">CA</span> <span class="n">failed</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span>  <span class="o">-</span> <span class="n">Could</span> <span class="n">be</span> <span class="n">problems</span> <span class="n">accessing</span> <span class="n">the</span> <span class="n">application</span> <span class="n">server</span><span class="o">,</span> <span class="n">or</span> <span class="n">token</span> <span class="k">is</span> <span class="n">not</span> <span class="n">available</span>  <span class="o">%</span><span class="n">s</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="911_activate_vipsh">911_activate_VIP.sh<a class="headerlink" href="#911_activate_vipsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">911</span> <span class="o">-</span> <span class="n">Activate</span> <span class="n">VIP</span>

<span class="n">Activate</span> <span class="n">the</span> <span class="n">VIP</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9111</span> <span class="o">/</span> <span class="n">Activate</span> <span class="n">VIP</span> <span class="n">run</span> <span class="n">successfully</span> <span class="o">-</span> <span class="n">All</span> <span class="k">is</span> <span class="n">ok</span>
<span class="mi">9112</span> <span class="o">/</span> <span class="n">Activate</span> <span class="n">VIP</span> <span class="n">failed</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span>  <span class="o">-</span> <span class="n">Manually</span> <span class="k">try</span> <span class="n">the</span> <span class="n">ipconfig</span> <span class="n">commands</span> <span class="n">error</span><span class="o">:(%</span><span class="n">s</span><span class="o">)</span>
<span class="mi">9113</span> <span class="o">/</span> <span class="n">Activate</span> <span class="n">VIP</span> <span class="n">failed</span> <span class="n">since</span> <span class="n">the</span> <span class="n">VIP</span> <span class="n">was</span> <span class="n">already</span> <span class="n">active</span> <span class="o">-</span> <span class="n">All</span> <span class="k">is</span> <span class="n">ok</span><span class="o">,</span> <span class="k">if</span> <span class="n">the</span> <span class="n">VIP</span> <span class="n">was</span> <span class="n">supposed</span> <span class="n">to</span> <span class="n">be</span> <span class="n">on</span> <span class="k">this</span> <span class="n">host</span> <span class="n">already</span>
<span class="mi">9114</span> <span class="o">/</span> <span class="n">Activate</span> <span class="n">VIP</span> <span class="n">failed</span> <span class="n">since</span> <span class="n">the</span> <span class="n">VIP</span> <span class="n">was</span> <span class="n">already</span> <span class="n">active</span> <span class="n">on</span> <span class="n">another</span> <span class="n">node</span> <span class="o">-</span> <span class="n">Check</span> <span class="n">the</span> <span class="n">other</span> <span class="n">node</span> <span class="n">to</span> <span class="n">see</span> <span class="k">if</span> <span class="n">that</span> <span class="n">node</span> <span class="n">has</span> <span class="n">the</span> <span class="n">VIP</span><span class="o">,</span> <span class="k">else</span> <span class="n">start</span> <span class="n">invesigating</span> <span class="n">who</span> <span class="n">has</span> <span class="n">you</span> <span class="n">IP</span> <span class="o">...</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="912_deactivate_vipsh">912_deactivate_VIP.sh<a class="headerlink" href="#912_deactivate_vipsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">912</span> <span class="o">-</span> <span class="n">Deactivate</span> <span class="n">VIP</span>

<span class="n">Deactivate</span> <span class="n">the</span> <span class="n">VIP</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9121</span> <span class="o">/</span> <span class="n">Deactivate</span> <span class="n">VIP</span> <span class="n">run</span> <span class="n">successfully</span> <span class="o">-</span> <span class="n">All</span> <span class="k">is</span> <span class="n">ok</span>
<span class="mi">9122</span> <span class="o">/</span> <span class="n">Deactivate</span> <span class="n">VIP</span> <span class="n">failed</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span>  <span class="o">-</span> <span class="n">Check</span> <span class="n">manually</span> <span class="k">with</span> <span class="n">ifconfig</span> <span class="o">-</span><span class="n">a</span> <span class="n">and</span> <span class="n">run</span> <span class="n">ifconfig</span> <span class="o">&lt;</span><span class="k">if</span><span class="o">&gt;</span> <span class="n">down</span>
<span class="mi">9123</span> <span class="o">/</span> <span class="n">While</span> <span class="n">deactivating</span><span class="o">,</span> <span class="n">the</span> <span class="n">VIP</span> <span class="n">was</span> <span class="n">already</span> <span class="n">NOT</span> <span class="n">active</span> <span class="n">on</span> <span class="k">this</span> <span class="n">host</span> <span class="o">-</span> <span class="n">If</span> <span class="n">the</span> <span class="n">VIP</span> <span class="n">was</span> <span class="n">supposed</span> <span class="n">to</span> <span class="n">be</span> <span class="n">at</span> <span class="k">this</span> <span class="n">host</span> <span class="k">this</span> <span class="n">event</span> <span class="n">needs</span> <span class="n">investigation</span> 

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="913_copy_ejbca_confsh">913_copy_ejbca_conf.sh<a class="headerlink" href="#913_copy_ejbca_confsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">913</span> <span class="o">-</span> <span class="n">Copy</span> <span class="n">config</span> <span class="n">to</span> <span class="n">NODE2</span>

<span class="n">Copy</span> <span class="n">EJBCA</span> <span class="n">conf</span><span class="sr">/, p12/</span> <span class="n">and</span> <span class="n">syscheck</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9131</span> <span class="o">/</span> <span class="n">Copy</span> <span class="n">run</span> <span class="n">successfully</span> <span class="o">-</span> <span class="n">Check</span> <span class="n">config</span> <span class="n">and</span> <span class="n">keys</span> <span class="n">to</span> <span class="n">remote</span> <span class="n">hosts</span>
<span class="mi">9132</span> <span class="o">/</span> <span class="n">Copy</span> <span class="n">failed</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span>  <span class="o">-</span> 

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="914_compare_master_slave_dbsh">914_compare_master_slave_db.sh<a class="headerlink" href="#914_compare_master_slave_dbsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">914</span> <span class="o">-</span> <span class="n">Deactivate</span> <span class="n">VIP</span>

<span class="n">Compare</span> <span class="n">tables</span> <span class="n">on</span> <span class="n">master</span> <span class="n">and</span> <span class="n">slave</span> <span class="n">database</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9141</span> <span class="o">/</span> <span class="n">Data</span> <span class="n">read</span> <span class="n">successfully</span> <span class="o">-</span> <span class="n">All</span> <span class="k">is</span> <span class="n">ok</span>
<span class="mi">9142</span> <span class="o">/</span> <span class="n">Could</span> <span class="n">not</span> <span class="kd">get</span> <span class="n">table</span> <span class="n">data</span> <span class="o">-</span> <span class="n">Check</span> <span class="n">connection</span><span class="o">,</span> <span class="n">username</span> <span class="n">and</span> <span class="n">password</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="915_remote_command_via_sshsh">915_remote_command_via_ssh.sh<a class="headerlink" href="#915_remote_command_via_sshsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">915</span> <span class="o">-</span> <span class="n">SSH</span> <span class="n">remote</span> <span class="n">command</span> <span class="n">tool</span>

<span class="n">Run</span> <span class="n">command</span> <span class="n">on</span> <span class="n">another</span> <span class="n">host</span> <span class="k">with</span> <span class="n">ssh</span> <span class="o">./</span><span class="mi">915</span><span class="n">_remote_command_via_ssh</span><span class="o">.</span><span class="na">sh</span> <span class="o">--</span><span class="n">host</span> <span class="n">host</span> <span class="o">--</span><span class="n">command</span> <span class="n">cmd</span> <span class="o">--</span><span class="n">user</span> <span class="n">sshtouser</span> <span class="o">--</span><span class="n">key</span> <span class="n">sshfromkey</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9151</span> <span class="o">/</span> <span class="n">Command</span> <span class="n">executed</span> <span class="n">successfully</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">All</span> <span class="k">is</span> <span class="n">ok</span>
<span class="mi">9152</span> <span class="o">/</span> <span class="n">Host</span> <span class="n">not</span> <span class="n">found</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">You</span> <span class="n">have</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">a</span> <span class="n">hostname</span> <span class="n">to</span> <span class="n">connect</span> <span class="n">to</span>
<span class="mi">9153</span> <span class="o">/</span> <span class="n">Command</span> <span class="n">not</span> <span class="n">found</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">Specify</span> <span class="n">a</span> <span class="n">command</span> <span class="n">to</span> <span class="n">run</span>
<span class="mi">9154</span> <span class="o">/</span> <span class="n">Command</span> <span class="n">not</span> <span class="n">executed</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">Check</span> <span class="n">connection</span><span class="o">,</span> <span class="n">username</span> <span class="n">and</span> <span class="n">password</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="916_archive_access_manager_logssh">916_archive_access_manager_logs.sh<a class="headerlink" href="#916_archive_access_manager_logssh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">916</span> <span class="o">-</span> <span class="n">Archive</span> <span class="n">log</span> <span class="n">files</span>

<span class="n">Script</span> <span class="n">used</span> <span class="n">to</span> <span class="n">move</span><span class="o">/</span><span class="n">archive</span> <span class="n">logfiles</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9161</span> <span class="o">/</span> <span class="n">Files</span> <span class="n">archived</span> <span class="n">succefully</span> <span class="o">(%</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="o">%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">ok</span>
<span class="mi">9162</span> <span class="o">/</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">artchive</span> <span class="n">files</span> <span class="o">(%</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="o">%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">test</span> <span class="n">the</span> <span class="n">underlying</span> <span class="n">archive</span> <span class="n">script</span> <span class="n">manually</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="917_archive_filesh">917_archive_file.sh<a class="headerlink" href="#917_archive_filesh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">917</span> <span class="o">-</span> <span class="n">Archive</span> <span class="n">files</span>

<span class="n">Script</span> <span class="n">used</span> <span class="n">to</span> <span class="n">copy</span> <span class="n">files</span> <span class="n">to</span> <span class="n">other</span> <span class="n">hosts</span><span class="sr">/directorys usage: ./</span><span class="mi">917</span><span class="n">_archive_file</span><span class="o">.</span><span class="na">sh</span><span class="o">:</span> <span class="n">file</span> <span class="n">host</span> <span class="o">&lt;</span><span class="n">directory</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">to</span><span class="o">-</span><span class="n">username</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">from</span><span class="o">-</span><span class="n">ssh</span><span class="o">-</span><span class="n">key</span><span class="o">&gt;</span> 
<span class="o">(</span><span class="k">if</span> <span class="n">you</span> <span class="n">dont</span> <span class="n">specify</span> <span class="n">directory</span> <span class="n">the</span> <span class="n">file</span> <span class="n">will</span> <span class="n">end</span> <span class="n">up</span> <span class="k">in</span> <span class="n">the</span> <span class="n">user</span><span class="s1">&#39;s homedirectory, </span>
<span class="s1">if you dont specify to-username the same user as the one executing this script will be used, </span>
<span class="s1">if from-ssh-key is not specified default key will be used)</span>

<span class="s1">Error code / description - What to do</span>

<span class="s1">9171 / File archived succefully Locally (%s -&gt; %s) - ok</span>
<span class="s1">9172 / Failed to move file to Local archive (%s -&gt; %s) - Check write premisions in archive dir</span>
<span class="s1">9173 / Errornous input arguments - specify the right arguments (run ./917_archive_file.sh -h for help)</span>
<span class="s1">9174 / Failed to get a filename from remote server - Check ssh connection setup to remote server</span>
<span class="s1">9175 / File Failed to be Archived on Remote Server (%s) - Check ssh connection setup to remote server and write permissions in remote archive dir</span>
<span class="s1">9176 / File Archived successfully to Remote Server (%s) - ok</span>
<span class="s1">9177 / File moved successfully to intransit folder (%s -&gt; %s) - ok</span>
<span class="s1">9178 / Failed to create file in the intransit folder (%s) - Check permissions to write in the intransit folder</span>
<span class="s1">9179 / Intransit dir not found - Create the dir with mkdir</span>

<span class="s1">to run with output directed to screen: add a &#39;</span><span class="o">-</span><span class="n">s</span><span class="s1">&#39; or &#39;</span><span class="o">--</span><span class="n">screen</span><span class="err">&#39;</span>
</code></pre></div>

<h2 id="918_server_alivesh">918_server_alive.sh<a class="headerlink" href="#918_server_alivesh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">918</span> <span class="o">-</span> <span class="n">Passive</span> <span class="n">server</span> <span class="n">monitoring</span>

<span class="n">Passive</span> <span class="n">server</span> <span class="n">monitoring</span><span class="o">,</span> <span class="n">all</span> <span class="n">server</span> <span class="n">that</span> <span class="n">should</span> <span class="n">be</span> <span class="n">monitored</span> <span class="n">should</span> <span class="n">be</span> <span class="n">listed</span> <span class="k">in</span> <span class="mi">918</span><span class="o">.</span><span class="na">conf</span> <span class="n">and</span> <span class="n">run</span> <span class="n">sc_19</span><span class="o">.</span><span class="na">sh</span> <span class="n">every</span> <span class="n">x</span><span class="o">:</span><span class="n">th</span> <span class="n">minute</span><span class="o">,</span> <span class="n">example</span><span class="o">:</span> <span class="k">if</span> <span class="n">you</span> <span class="n">run</span> <span class="n">syscheck</span> <span class="n">every</span> <span class="mi">10</span><span class="o">:</span><span class="n">th</span> <span class="n">minute</span> <span class="kd">set</span> <span class="n">warn</span> <span class="n">to</span> <span class="mi">15</span><span class="o">(</span><span class="n">missed</span> <span class="n">one</span> <span class="n">log</span> <span class="n">and</span> <span class="n">some</span> <span class="n">margin</span><span class="o">)</span> <span class="n">and</span> <span class="n">error</span> <span class="n">to</span> <span class="mi">25</span><span class="o">(</span><span class="n">missed</span> <span class="n">one</span> <span class="n">log</span> <span class="n">and</span> <span class="n">some</span> <span class="n">margin</span><span class="o">)</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9181</span> <span class="o">/</span> <span class="n">machine</span><span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="n">has</span> <span class="n">called</span> <span class="k">in</span> <span class="k">as</span> <span class="n">it</span><span class="s1">&#39;s supposed to (lastcall: %s). - no action is needed</span>
<span class="s1">9182 / machine(%s) has not called in within error limit (lastcall: %s) - two missed log messages, this needs attention</span>
<span class="s1">9183 / machine(%s) has not called in within warn limit (lastcall: %s) - one missed log message, may be a glitch but should be checked</span>

<span class="s1">to run with output directed to screen: add a &#39;</span><span class="o">-</span><span class="n">s</span><span class="s1">&#39; or &#39;</span><span class="o">--</span><span class="n">screen</span><span class="err">&#39;</span>
</code></pre></div>

<h2 id="919_certpublisher_remotecommandsh">919_certpublisher_remotecommand.sh<a class="headerlink" href="#919_certpublisher_remotecommandsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">919</span> <span class="o">-</span> <span class="n">Certificate</span> <span class="n">publishing</span> <span class="n">remote</span> <span class="n">host</span>

<span class="n">Takes</span> <span class="n">a</span> <span class="n">certificate</span> <span class="n">and</span> <span class="n">runs</span> <span class="n">a</span> <span class="n">configurable</span> <span class="n">command</span> <span class="n">at</span> <span class="n">a</span> <span class="n">remote</span> <span class="n">host</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9191</span> <span class="o">/</span> <span class="n">Remote</span> <span class="n">command</span> <span class="n">ran</span> <span class="n">successfully</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">no</span> <span class="n">action</span> <span class="n">needed</span>
<span class="mi">9192</span> <span class="o">/</span> <span class="n">Remote</span> <span class="n">command</span> <span class="n">failed</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="k">try</span> <span class="n">to</span> <span class="n">run</span> <span class="n">the</span> <span class="n">command</span> <span class="n">manually</span>
<span class="mi">9193</span> <span class="o">/</span> <span class="n">File</span> <span class="n">input</span> <span class="n">error</span><span class="o">,</span> <span class="n">failed</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">input</span> <span class="n">file</span> <span class="n">not</span> <span class="kd">set</span> <span class="n">ok</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="920_restore_mysql_db_from_backupsh">920_restore_mysql_db_from_backup.sh<a class="headerlink" href="#920_restore_mysql_db_from_backupsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">920</span> <span class="o">-</span> <span class="n">DB</span> <span class="n">Restore</span> <span class="n">tool</span>

<span class="n">Restore</span> <span class="n">db</span><span class="o">,</span> <span class="n">syntax</span><span class="o">:</span> <span class="o">./</span><span class="mi">920</span><span class="n">_restore_mysql_db_from_backup</span><span class="o">.</span><span class="na">sh</span> <span class="o">&lt;</span><span class="n">gzip</span><span class="o">:</span><span class="n">ed</span> <span class="n">mysqldump</span><span class="o">-</span><span class="n">file</span><span class="o">&gt;</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9201</span> <span class="o">/</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">make</span> <span class="n">backup</span> <span class="n">of</span> <span class="n">the</span> <span class="n">pre</span><span class="o">-</span><span class="n">existing</span> <span class="n">db</span> <span class="n">prior</span> <span class="n">to</span> <span class="n">restore</span> <span class="o">-</span> <span class="n">run</span> <span class="n">a</span> <span class="n">manual</span> <span class="n">backup</span> <span class="k">with</span> <span class="n">arg</span> <span class="o">-</span><span class="n">s</span> <span class="n">to</span> <span class="n">check</span> <span class="n">errors</span>
<span class="mi">9202</span> <span class="o">/</span> <span class="n">Restored</span> <span class="n">the</span> <span class="n">db</span> <span class="n">from</span> <span class="n">file</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">no</span> <span class="n">action</span> <span class="n">needed</span>
<span class="mi">9203</span> <span class="o">/</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">restore</span> <span class="n">the</span> <span class="n">db</span> <span class="n">from</span> <span class="n">the</span> <span class="n">file</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="n">consider</span> <span class="n">to</span> <span class="n">restore</span> <span class="n">to</span> <span class="n">previously</span> <span class="n">db</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> 

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="921_copy_htmf_confsh">921_copy_htmf_conf.sh<a class="headerlink" href="#921_copy_htmf_confsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">921</span> <span class="o">-</span> <span class="n">Copy</span> <span class="n">HTMF</span> <span class="n">config</span>

<span class="n">Copy</span> <span class="n">HTMF</span> <span class="n">config</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9211</span> <span class="sr">/ Interactive script to copy htmf /</span> <span class="n">ejbca</span> <span class="n">config</span> <span class="o">-</span> <span class="n">files</span> <span class="n">are</span> <span class="n">added</span> <span class="k">in</span> <span class="n">config</span> <span class="n">file</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="922-simple-database-replication-checksh">922-simple-database-replication-check.sh<a class="headerlink" href="#922-simple-database-replication-checksh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">922</span> <span class="o">-</span> <span class="n">Simple</span> <span class="n">db</span> <span class="n">replication</span> <span class="n">tool</span>

<span class="n">Simple</span> <span class="n">replication</span> <span class="n">test</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9221</span> <span class="o">/</span> <span class="n">Value</span> <span class="n">replicated</span> <span class="n">ok</span> <span class="o">-</span> <span class="n">ok</span><span class="o">,</span> <span class="n">no</span> <span class="n">action</span> <span class="n">needed</span>
<span class="mi">9222</span> <span class="o">/</span> <span class="n">Value</span> <span class="n">differs</span> <span class="o">-</span> <span class="n">databse</span> <span class="n">not</span> <span class="n">replicating</span> <span class="o">(%</span><span class="n">s</span> <span class="o">!=</span> <span class="o">%</span><span class="n">s</span><span class="o">),</span> <span class="n">manually</span> <span class="n">check</span> <span class="n">the</span> <span class="n">database</span> <span class="k">with</span> <span class="n">check</span> <span class="n">master</span> <span class="n">and</span> <span class="n">check</span> <span class="n">slave</span> <span class="n">script</span>
<span class="mi">9223</span> <span class="o">/</span> <span class="n">No</span> <span class="n">value</span> <span class="n">from</span> <span class="n">node2</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">check</span> <span class="n">connection</span> <span class="n">manually</span><span class="o">,</span> <span class="n">ping</span><span class="o">,</span> <span class="n">telnet</span><span class="o">,</span> <span class="n">mysql</span> <span class="o">-</span><span class="n">h</span> <span class="n">node2</span> <span class="o">-</span><span class="n">u</span> <span class="n">dbadmin</span> <span class="o">-</span><span class="n">p</span> <span class="o">...</span> 
<span class="mi">9224</span> <span class="o">/</span> <span class="n">No</span> <span class="n">value</span> <span class="n">from</span> <span class="n">node1</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">check</span> <span class="n">connection</span> <span class="n">manually</span><span class="o">,</span> <span class="n">ping</span><span class="o">,</span> <span class="n">telnet</span><span class="o">,</span> <span class="n">mysql</span> <span class="o">-</span><span class="n">h</span> <span class="n">node1</span> <span class="o">-</span><span class="n">u</span> <span class="n">dbadmin</span> <span class="o">-</span><span class="n">p</span> <span class="o">...</span> 

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="923-rsync-to-remote-machinesh">923-rsync-to-remote-machine.sh<a class="headerlink" href="#923-rsync-to-remote-machinesh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">923</span> <span class="o">-</span> <span class="n">Sync</span> <span class="n">files</span> <span class="n">to</span> <span class="n">remote</span> <span class="n">host</span>

<span class="n">Script</span> <span class="n">used</span> <span class="n">to</span> <span class="n">sync</span> <span class="n">files</span> <span class="k">with</span> <span class="n">rsync</span> <span class="n">to</span> <span class="n">other</span> <span class="n">hosts</span><span class="sr">/directorys usage: ./</span><span class="mi">923</span><span class="o">-</span><span class="n">rsync</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">remote</span><span class="o">-</span><span class="n">machine</span><span class="o">.</span><span class="na">sh</span><span class="o">:</span> <span class="n">file</span> <span class="n">host</span> <span class="o">&lt;</span><span class="n">directory</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">to</span><span class="o">-</span><span class="n">username</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">from</span><span class="o">-</span><span class="n">ssh</span><span class="o">-</span><span class="n">key</span><span class="o">&gt;</span> 
<span class="o">(</span><span class="k">if</span> <span class="n">you</span> <span class="n">dont</span> <span class="n">specify</span> <span class="n">directory</span> <span class="n">the</span> <span class="n">file</span> <span class="n">will</span> <span class="n">end</span> <span class="n">up</span> <span class="k">in</span> <span class="n">the</span> <span class="n">user</span><span class="s1">&#39;s homedirectory, </span>
<span class="s1">if you dont specify to-username the same user as the one executing this script will be used, </span>
<span class="s1">if from-ssh-key is not specified default key will be used)</span>

<span class="s1">Error code / description - What to do</span>

<span class="s1">9231 / file transfered ok - ok</span>
<span class="s1">9232 / specify a filename as first argument to this script - filename not specified as argument</span>
<span class="s1">9233 / specify a hostname as second argument to this script - Hostname not specified as argument</span>
<span class="s1">9234 / rsync  transfer failed (%s) - check the error message and try to fix it</span>

<span class="s1">to run with output directed to screen: add a &#39;</span><span class="o">-</span><span class="n">s</span><span class="s1">&#39; or &#39;</span><span class="o">--</span><span class="n">screen</span><span class="err">&#39;</span>
</code></pre></div>

<h2 id="924-backup-this-machine-to-remote-machinesh">924-backup-this-machine-to-remote-machine.sh<a class="headerlink" href="#924-backup-this-machine-to-remote-machinesh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">924</span> <span class="o">-</span> <span class="n">Sync</span> <span class="n">several</span> <span class="n">directories</span> <span class="n">and</span> <span class="n">files</span> <span class="n">to</span> <span class="n">remote</span> <span class="n">host</span>

<span class="n">Script</span> <span class="n">used</span> <span class="n">to</span> <span class="n">rsync</span> <span class="n">configured</span> <span class="n">files</span><span class="o">/</span><span class="n">dirs</span> <span class="n">to</span> <span class="n">other</span> <span class="n">hosts</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9241</span> <span class="o">/</span> <span class="n">file</span> <span class="n">transfered</span> <span class="n">ok</span> <span class="o">-</span> <span class="n">ok</span>
<span class="mi">9242</span> <span class="sr">/ Could not find transfer script - The underlying script for making the transfers SYSCHECK_HOME/related-enabled/</span><span class="mi">923</span><span class="o">-</span><span class="n">rsync</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">remote</span><span class="o">-</span><span class="n">machine</span><span class="o">.</span><span class="na">sh</span> <span class="n">dont</span> <span class="n">exist</span><span class="o">,</span> <span class="n">read</span> <span class="n">docs</span> <span class="k">for</span> <span class="n">guide</span> <span class="n">howto</span> <span class="n">enable</span> <span class="n">it</span>
<span class="mi">9243</span> <span class="sr">/ Failed to sync files (%s) - check the config and run SYSCHECK_HOME/related-enabled/</span><span class="mi">923</span><span class="o">-</span><span class="n">rsync</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">remote</span><span class="o">-</span><span class="n">machine</span><span class="o">.</span><span class="na">sh</span> <span class="n">manually</span> <span class="k">with</span> <span class="n">the</span> <span class="n">same</span> <span class="n">options</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="925_publish_crl_from_filesh">925_publish_crl_from_file.sh<a class="headerlink" href="#925_publish_crl_from_filesh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">925</span> <span class="o">-</span> <span class="n">Publish</span> <span class="n">a</span> <span class="n">CRL</span> <span class="n">from</span> <span class="n">a</span> <span class="n">file</span>

<span class="n">Publish</span> <span class="n">a</span> <span class="n">CRL</span> <span class="n">from</span> <span class="n">file</span><span class="o">,</span> <span class="n">ie</span> <span class="n">you</span> <span class="n">need</span> <span class="n">to</span> <span class="n">call</span> <span class="k">this</span> <span class="n">script</span> <span class="k">with</span> <span class="n">the</span> <span class="n">file</span> <span class="n">on</span> <span class="n">disc</span>
<span class="o">./</span><span class="mi">925</span><span class="n">_publish_crl_from_file</span><span class="o">.</span><span class="na">sh</span><span class="o">:</span> <span class="o">-</span><span class="n">c</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;|--</span><span class="n">crlfile</span><span class="o">=&lt;</span><span class="n">file</span><span class="o">&gt;</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9251</span> <span class="o">/</span> <span class="n">Publish</span> <span class="n">crl</span> <span class="n">run</span> <span class="n">successfully</span> <span class="o">-</span> <span class="n">ok</span>
<span class="mi">9252</span> <span class="o">/</span> <span class="n">no</span> <span class="n">input</span> <span class="n">file</span> <span class="n">found</span> <span class="o">-</span> <span class="n">supply</span> <span class="n">file</span> <span class="k">as</span> <span class="n">argument</span> <span class="n">to</span> <span class="k">this</span> <span class="n">script</span>
<span class="mi">9253</span> <span class="o">/</span> <span class="n">Publish</span> <span class="n">certificate</span> <span class="n">failed</span><span class="o">,</span> <span class="n">cant</span> <span class="n">read</span> <span class="n">file</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">verify</span> <span class="n">the</span> <span class="n">file</span> <span class="k">is</span> <span class="k">in</span> <span class="n">place</span> <span class="n">and</span> <span class="k">with</span> <span class="n">proper</span> <span class="n">permissions</span> <span class="n">before</span> <span class="n">executing</span> <span class="k">this</span> <span class="n">script</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="926_local_htmf_copy_confsh">926_local_htmf_copy_conf.sh<a class="headerlink" href="#926_local_htmf_copy_confsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">926</span> <span class="o">-</span> <span class="n">Locally</span> <span class="n">copy</span> <span class="n">config</span> <span class="n">and</span> <span class="n">keystores</span>

<span class="n">Copy</span> <span class="n">all</span> <span class="n">config</span><span class="sr">/keystore files to /tmp/</span><span class="n">bckup_htmf_conf</span> <span class="n">before</span> <span class="n">system</span> <span class="n">upgrade</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9261</span> <span class="o">/</span> <span class="n">File</span> <span class="n">copied</span> <span class="n">ok</span><span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">no</span> <span class="n">action</span> <span class="n">needed</span>
<span class="mi">9262</span> <span class="o">/</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">copy</span> <span class="n">file</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">check</span> <span class="n">permissions</span> <span class="n">and</span> <span class="n">paths</span>
<span class="mi">9263</span> <span class="o">/</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">create</span> <span class="n">backup</span> <span class="n">dir</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">check</span> <span class="n">permissions</span> <span class="n">and</span> <span class="n">paths</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="927_create_crlssh">927_create_crls.sh<a class="headerlink" href="#927_create_crlssh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">927</span> <span class="o">-</span> <span class="n">Trigger</span> <span class="n">the</span> <span class="n">Creation</span> <span class="n">of</span> <span class="n">CRLs</span> <span class="k">in</span> <span class="n">EJBCA</span>

<span class="n">Script</span> <span class="n">to</span> <span class="n">create</span> <span class="n">the</span> <span class="n">CRL</span><span class="o">:</span><span class="n">s</span> <span class="n">from</span> <span class="n">the</span> <span class="n">CA</span><span class="o">:</span><span class="n">s</span> <span class="n">options</span> <span class="k">if</span> <span class="n">needed</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9271</span> <span class="o">/</span> <span class="n">Create</span> <span class="n">CRL</span> <span class="n">run</span> <span class="n">successfully</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">No</span> <span class="n">action</span> <span class="n">needed</span>
<span class="mi">9272</span> <span class="sr">/ Create CRL failed (%s) - Try manually to run this command or direct do &#39;cd /opt/ejbca ; ./bin/</span><span class="n">ejbca</span><span class="o">.</span><span class="na">sh</span> <span class="n">ca</span> <span class="n">createcrl</span><span class="s1">&#39;</span>
<span class="s1">9273 /  - </span>

<span class="s1">to run with output directed to screen: add a &#39;</span><span class="o">-</span><span class="n">s</span><span class="s1">&#39; or &#39;</span><span class="o">--</span><span class="n">screen</span><span class="err">&#39;</span>
</code></pre></div>

<h2 id="928_check_dsm_backupsh">928_check_dsm_backup.sh<a class="headerlink" href="#928_check_dsm_backupsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">928</span> <span class="o">-</span> <span class="n">DSM</span> <span class="n">Backup</span>

<span class="n">Check</span> <span class="k">if</span> <span class="n">DSM</span> <span class="n">Backup</span> <span class="n">working</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9281</span> <span class="o">/</span> <span class="n">DSM</span> <span class="n">Backup</span> <span class="n">ok</span> <span class="o">(</span><span class="n">file</span><span class="o">:%</span><span class="n">s</span> <span class="n">result</span><span class="o">:%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">no</span> <span class="n">action</span> <span class="n">needed</span>
<span class="mi">9282</span> <span class="o">/</span> <span class="n">DSM</span> <span class="n">Backup</span> <span class="n">failed</span> <span class="n">file</span><span class="o">:%</span><span class="n">s</span> <span class="n">result</span><span class="o">:%</span><span class="n">s</span> <span class="o">-</span> <span class="n">Check</span> <span class="n">DSM</span> <span class="n">tool</span> <span class="k">for</span> <span class="n">troubleshooting</span>
<span class="mi">9283</span> <span class="o">/</span>  <span class="o">-</span> 

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="929_filter_syscheck_messagessh">929_filter_syscheck_messages.sh<a class="headerlink" href="#929_filter_syscheck_messagessh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">929</span> <span class="o">-</span> <span class="n">Filter</span> <span class="n">messages</span> <span class="n">from</span> <span class="n">syscheck</span>

<span class="n">Filter</span> <span class="n">only</span> <span class="n">some</span> <span class="n">messages</span> <span class="n">from</span> <span class="n">a</span> <span class="n">file</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9291</span> <span class="o">/</span> <span class="n">Filter</span> <span class="n">ok</span> <span class="o">-</span> <span class="n">no</span> <span class="n">action</span> <span class="n">needed</span>
<span class="mi">9292</span> <span class="o">/</span> <span class="n">Filter</span> <span class="n">failed</span> <span class="o">-</span> <span class="k">try</span> <span class="n">the</span> <span class="n">commands</span> <span class="n">manually</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="930_send_filtered_result_to_remote_machinesh">930_send_filtered_result_to_remote_machine.sh<a class="headerlink" href="#930_send_filtered_result_to_remote_machinesh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">930</span> <span class="o">-</span> <span class="n">Send</span> <span class="n">files</span> <span class="n">to</span> <span class="n">remote</span> <span class="n">host</span>

<span class="n">Copy</span> <span class="n">a</span> <span class="n">file</span> <span class="n">over</span> <span class="n">to</span> <span class="n">a</span> <span class="n">central</span> <span class="n">hub</span> <span class="o">(</span><span class="n">might</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">expose</span> <span class="n">some</span> <span class="n">or</span> <span class="n">all</span> <span class="n">of</span> <span class="n">syscheck</span> <span class="n">results</span><span class="o">)</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9301</span> <span class="o">/</span> <span class="n">Transfer</span> <span class="n">ok</span> <span class="o">(</span><span class="n">file</span><span class="o">:%</span><span class="n">s</span> <span class="n">result</span><span class="o">:%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">no</span> <span class="n">action</span> <span class="n">needed</span>
<span class="mi">9302</span> <span class="o">/</span> <span class="n">Could</span> <span class="n">not</span> <span class="n">transfer</span> <span class="n">file</span><span class="o">:%</span><span class="n">s</span> <span class="n">result</span><span class="o">:%</span><span class="n">s</span> <span class="o">-</span> <span class="k">try</span> <span class="n">the</span> <span class="n">transfer</span> <span class="n">commands</span> <span class="n">manually</span>
<span class="mi">9303</span> <span class="o">/</span>  <span class="o">-</span> 

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="931_mysql_backup_encrypt_send_to_remote_hostsh">931_mysql_backup_encrypt_send_to_remote_host.sh<a class="headerlink" href="#931_mysql_backup_encrypt_send_to_remote_hostsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">931</span> <span class="o">-</span> <span class="n">Backup</span><span class="o">,</span> <span class="n">encrypt</span> <span class="n">backup</span> <span class="n">and</span> <span class="n">send</span> <span class="n">to</span> <span class="n">remote</span> <span class="n">hosts</span>

<span class="n">Script</span> <span class="n">used</span> <span class="n">to</span> <span class="n">take</span> <span class="n">backup</span> <span class="n">of</span> <span class="n">the</span> <span class="n">sql</span> <span class="n">database</span><span class="o">,</span> <span class="n">compress</span> <span class="n">and</span> <span class="n">send</span> <span class="n">to</span> <span class="n">a</span> <span class="n">separate</span> <span class="n">server</span><span class="o">.</span> <span class="n">call</span> <span class="k">with</span> <span class="o">-</span><span class="n">x</span><span class="o">|--</span><span class="k">default</span> <span class="k">for</span> <span class="n">puting</span> <span class="n">the</span> <span class="n">backupfile</span> <span class="k">in</span> <span class="n">the</span> <span class="n">SUBDIR_DEFAULT</span> <span class="o">;</span> <span class="o">-</span><span class="n">d</span><span class="o">|--</span><span class="n">daily</span> <span class="n">to</span> <span class="n">make</span> <span class="n">daily</span> <span class="n">backup</span> <span class="n">end</span> <span class="n">up</span> <span class="k">in</span> <span class="n">SUBDIR_DAILY</span><span class="o">;</span> <span class="k">with</span> <span class="o">-</span><span class="n">w</span><span class="o">|--</span><span class="n">weekly</span> <span class="n">to</span> <span class="n">make</span> <span class="n">daily</span> <span class="n">backup</span> <span class="n">end</span> <span class="n">up</span> <span class="k">in</span> <span class="n">SUBDIR_WEEKLY</span><span class="o">;</span> <span class="o">-</span><span class="n">m</span><span class="o">|--</span><span class="n">monthly</span> <span class="n">to</span> <span class="n">make</span> <span class="n">daily</span> <span class="n">backup</span> <span class="n">end</span> <span class="n">up</span> <span class="k">in</span> <span class="n">SUBDIR_MONTHLY</span> <span class="o">;</span> <span class="o">-</span><span class="n">y</span><span class="o">|--</span><span class="n">yearly</span> <span class="n">to</span> <span class="n">make</span> <span class="n">daily</span> <span class="n">backup</span> <span class="n">end</span> <span class="n">up</span> <span class="k">in</span> <span class="n">SUBDIR_YEARLY</span><span class="o">;</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9311</span> <span class="o">/</span> <span class="n">Backup</span> <span class="n">and</span> <span class="n">transfer</span> <span class="n">was</span> <span class="n">ok</span><span class="o">.</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">Ok</span>
<span class="mi">9312</span> <span class="o">/</span> <span class="n">Could</span> <span class="n">not</span> <span class="kd">get</span> <span class="n">the</span> <span class="n">backup</span> <span class="n">from</span> <span class="n">MySQL</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span>  <span class="o">-</span> <span class="n">Could</span> <span class="n">not</span> <span class="n">make</span> <span class="n">a</span> <span class="n">backup</span><span class="o">.</span>
<span class="mi">9313</span> <span class="o">/</span> <span class="n">Compression</span> <span class="n">of</span> <span class="n">the</span> <span class="n">backup</span> <span class="n">failed</span> <span class="o">(%</span><span class="n">s</span><span class="o">)</span>  <span class="o">-</span> <span class="n">Could</span> <span class="n">not</span> <span class="n">compress</span> <span class="n">the</span> <span class="n">backup</span><span class="o">.</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="932_send_result_as_messagesh">932_send_result_as_message.sh<a class="headerlink" href="#932_send_result_as_messagesh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">932</span> <span class="o">-</span> <span class="n">Send</span> <span class="n">result</span> <span class="k">as</span> <span class="n">a</span> <span class="n">message</span>

<span class="n">Send</span> <span class="n">syscheck</span> <span class="n">result</span> <span class="k">as</span> <span class="n">a</span> <span class="n">message</span> <span class="n">over</span> <span class="n">to</span> <span class="n">a</span> <span class="n">central</span> <span class="n">hub</span> 

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9321</span> <span class="o">/</span> <span class="n">Transfer</span> <span class="n">ok</span> <span class="o">(</span><span class="n">command</span><span class="o">:%</span><span class="n">s</span> <span class="n">result</span><span class="o">:%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">no</span> <span class="n">action</span> <span class="n">needed</span>
<span class="mi">9322</span> <span class="o">/</span> <span class="n">Could</span> <span class="n">not</span> <span class="n">send</span> <span class="n">message</span><span class="o">:</span> <span class="o">%</span><span class="n">s</span> <span class="n">result</span><span class="o">:%</span><span class="n">s</span> <span class="o">-</span> <span class="k">try</span> <span class="n">the</span> <span class="n">transfer</span> <span class="n">commands</span> <span class="n">manually</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="933_select_from_databasesh">933_select_from_database.sh<a class="headerlink" href="#933_select_from_databasesh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">933</span> <span class="o">-</span> <span class="n">Select</span> <span class="n">from</span> <span class="n">db</span> <span class="k">for</span> <span class="n">info</span>

<span class="n">Get</span> <span class="n">info</span> <span class="n">from</span> <span class="n">db</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9331</span> <span class="o">/</span> <span class="n">Selected</span> <span class="n">info</span> <span class="n">from</span> <span class="n">DB</span> <span class="o">(</span><span class="n">command</span><span class="o">:%</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span> <span class="n">no</span> <span class="n">action</span> <span class="n">needed</span>
<span class="mi">9332</span> <span class="o">/</span> <span class="n">Could</span> <span class="n">not</span> <span class="kd">get</span> <span class="n">info</span> <span class="n">from</span> <span class="n">db</span><span class="o">:</span> <span class="o">%</span><span class="n">s</span> <span class="o">-</span> <span class="k">try</span> <span class="n">the</span> <span class="n">commands</span> <span class="n">manually</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="934_check_validity_of_installed_certssh">934_check_validity_of_installed_certs.sh<a class="headerlink" href="#934_check_validity_of_installed_certssh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">934</span> <span class="o">-</span> <span class="n">Certificate</span> <span class="n">validity</span> <span class="n">check</span>

<span class="n">Monitor</span> <span class="n">certificates</span> <span class="n">validity</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9341</span> <span class="o">/</span> <span class="n">File</span><span class="o">:</span> <span class="o">%</span><span class="n">s</span> <span class="n">subj</span><span class="o">:</span> <span class="o">%</span><span class="n">s</span> <span class="n">days</span> <span class="n">until</span> <span class="n">expiry</span><span class="o">:</span> <span class="o">%</span><span class="n">s</span> <span class="o">-</span> <span class="n">no</span> <span class="n">action</span> <span class="n">needed</span>
<span class="mi">9342</span> <span class="o">/</span> <span class="n">File</span><span class="o">:</span> <span class="o">%</span><span class="n">s</span> <span class="n">subj</span><span class="o">:</span> <span class="o">%</span><span class="n">s</span> <span class="n">days</span> <span class="n">until</span> <span class="n">expiry</span><span class="o">:</span> <span class="o">%</span><span class="n">s</span> <span class="o">-</span> <span class="n">schedule</span> <span class="n">replacement</span> <span class="n">soon</span>
<span class="mi">9343</span> <span class="o">/</span> <span class="n">File</span><span class="o">:</span> <span class="o">%</span><span class="n">s</span> <span class="n">subj</span><span class="o">:</span> <span class="o">%</span><span class="n">s</span> <span class="n">days</span> <span class="n">until</span> <span class="n">expiry</span><span class="o">:</span> <span class="o">%</span><span class="n">s</span> <span class="o">-</span> <span class="n">Certificate</span> <span class="n">indicent</span> <span class="k">is</span> <span class="n">close</span>

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="935_mysql_console_as_rootsh">935_mysql_console_as_root.sh<a class="headerlink" href="#935_mysql_console_as_rootsh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">935</span> <span class="o">-</span> <span class="n">Start</span> <span class="n">mysql</span> <span class="k">as</span> <span class="n">root</span>

<span class="k">as</span> <span class="n">a</span> <span class="n">convenience</span> <span class="n">tool</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9351</span> <span class="o">/</span>  <span class="o">-</span> 
<span class="mi">9352</span> <span class="o">/</span>  <span class="o">-</span> 
<span class="mi">9353</span> <span class="o">/</span>  <span class="o">-</span> 

<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="936_mysql_console_as_db_usersh">936_mysql_console_as_db_user.sh<a class="headerlink" href="#936_mysql_console_as_db_usersh" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">936</span> <span class="o">-</span> <span class="n">Start</span> <span class="n">mysql</span> <span class="k">as</span> <span class="n">dbuser</span>

<span class="k">as</span> <span class="n">a</span> <span class="n">convenience</span> <span class="n">tool</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>


<span class="n">to</span> <span class="n">run</span> <span class="k">with</span> <span class="n">output</span> <span class="n">directed</span> <span class="n">to</span> <span class="n">screen</span><span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="s1">&#39;-s&#39;</span> <span class="n">or</span> <span class="s1">&#39;--screen&#39;</span>
</code></pre></div>

<h2 id="937_delete_old_crldatash">937_delete_old_CRLData.sh<a class="headerlink" href="#937_delete_old_crldatash" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">Scriptid</span><span class="o">:</span> <span class="mi">937</span> <span class="o">-</span> <span class="n">Delete</span> <span class="n">old</span> <span class="n">records</span> <span class="n">from</span> <span class="n">CRL</span> <span class="n">Data</span>

<span class="n">Delete</span> <span class="n">records</span> <span class="n">from</span> <span class="n">crldata</span><span class="o">,</span> <span class="n">keep</span> <span class="k">default</span> <span class="mi">20</span> <span class="n">record</span> <span class="k">in</span> <span class="n">crltable</span><span class="o">,</span> <span class="n">see</span> <span class="n">config</span> <span class="n">file</span> <span class="mi">817</span><span class="o">.</span><span class="na">conf</span>

<span class="n">Error</span> <span class="n">code</span> <span class="o">/</span> <span class="n">description</span> <span class="o">-</span> <span class="n">What</span> <span class="n">to</span> <span class="k">do</span>

<span class="mi">9371</span> <span class="o">/</span> <span class="n">No</span> <span class="n">Value</span> <span class="k">in</span> <span class="n">ROW_SAVE</span> <span class="o">-</span> <span class="n">Check</span> <span class="n">scripts</span> <span class="n">config</span> <span class="n">file</span> 
<span class="mi">9372</span> <span class="o">/</span> <span class="n">The</span> <span class="n">value</span> <span class="k">is</span> <span class="n">less</span> <span class="n">then</span> <span class="mi">5</span> <span class="o">-</span> <span class="n">Check</span>  <span class="n">scripts</span> <span class="n">config</span> <span class="n">file</span> 
<span class="mi">9373</span> <span class="o">/</span> <span class="n">Can</span><span class="s1">&#39;t make a backup - Check permisson and dbuser</span>
<span class="s1">9374 / Can&#39;</span><span class="n">t</span> <span class="kd">get</span> <span class="n">uniq</span> <span class="n">issuerDN</span> <span class="n">from</span> <span class="n">CRLData</span>  <span class="o">-</span> <span class="n">Check</span> <span class="n">database</span> <span class="n">and</span> <span class="n">logs</span> 
<span class="mi">9375</span> <span class="o">/</span> <span class="n">Can</span><span class="s1">&#39;t copy CRLData to db crldata.CRLDatalog for each issuerDN  - Check database and logs </span>
<span class="s1">9376 / Cant delete record from CRLData for uniq issuerDN - Check database and logs </span>
<span class="s1">9377 / Delete to crlnumber  - Delet ok </span>
<span class="s1">9378 / Can&#39;</span><span class="n">t</span> <span class="n">Optimize</span> <span class="n">table</span>  <span class="o">-</span> <span class="n">Check</span> <span class="n">vendor</span> <span class="n">of</span> <span class="n">database</span><span class="o">,</span> <span class="n">and</span> <span class="n">adjust</span> <span class="n">command</span> 
<span class="mi">9379</span> <span class="o">/</span> <span class="n">Can</span><span class="s1">&#39;t zip dbbackup  - Check permission  </span>
<span class="s1">93710 / Delete to crlnumber, restart jboss and check sync  - Delete ok </span>

<span class="s1">to run with output directed to screen: add a &#39;</span><span class="o">-</span><span class="n">s</span><span class="s1">&#39; or &#39;</span><span class="o">--</span><span class="n">screen</span><span class="err">&#39;</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../syscheck-scripts/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                All Syscheck scripts
              </div>
            </div>
          </a>
        
        
          <a href="../certificate_and_revovation_archival/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Archiving
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy 2020 Henrik Andreasson
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="../assets/javascripts/bundle.b3a72adc.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>